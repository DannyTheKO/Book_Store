-- MySQL Script generated by MySQL Workbench
-- Tue Oct  8 13:54:41 2024
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema book_store_v2.0
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `book_store_v2.0` ;

-- -----------------------------------------------------
-- Schema book_store_v2.0
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `book_store_v2.0` DEFAULT CHARACTER SET utf8 ;
USE `book_store_v2.0` ;

-- -----------------------------------------------------
-- Table `book_store_v2.0`.`Publisher`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `book_store_v2.0`.`Publisher` ;

CREATE TABLE IF NOT EXISTS `book_store_v2.0`.`Publisher` (
  `PublisherId` INT NOT NULL,
  `PublisherName` NVARCHAR(255) NULL,
  `Phone` VARCHAR(45) NULL,
  `Address` VARCHAR(45) NULL,
  PRIMARY KEY (`PublisherId`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `book_store_v2.0`.`Category`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `book_store_v2.0`.`Category` ;

CREATE TABLE IF NOT EXISTS `book_store_v2.0`.`Category` (
  `CategoryId` INT NOT NULL,
  `CategoryName` NVARCHAR(255) NULL,
  PRIMARY KEY (`CategoryId`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `book_store_v2.0`.`Book`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `book_store_v2.0`.`Book` ;

CREATE TABLE IF NOT EXISTS `book_store_v2.0`.`Book` (
  `BookId` VARCHAR(10) NOT NULL,
  `CategoryId` INT NULL,
  `PublisherId` INT NULL,
  `Title` NVARCHAR(255) NULL,
  `Author` NVARCHAR(255) NULL,
  `Release` INT NULL,
  `Price` FLOAT NULL,
  `Description` LONGTEXT NULL,
  `Picture` NVARCHAR(255) NULL,
  PRIMARY KEY (`BookId`),
  CONSTRAINT `FK_Book_Publisher`
    FOREIGN KEY (`PublisherId`)
    REFERENCES `book_store_v2.0`.`Publisher` (`PublisherId`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_Book_Category`
    FOREIGN KEY (`CategoryId`)
    REFERENCES `book_store_v2.0`.`Category` (`CategoryId`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `Category_KEY` ON `book_store_v2.0`.`Book` (`CategoryId` ASC) VISIBLE;

CREATE INDEX `Publisher_KEY` ON `book_store_v2.0`.`Book` (`PublisherId` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `book_store_v2.0`.`Account`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `book_store_v2.0`.`Account` ;

CREATE TABLE IF NOT EXISTS `book_store_v2.0`.`Account` (
  `AccountId` VARCHAR(36) NOT NULL,
  `Usernane` VARCHAR(64) NULL,
  `Password` VARCHAR(256) NULL,
  `FullName` NVARCHAR(100) NULL,
  `Picture` VARCHAR(512) NULL,
  `Email` VARCHAR(64) NULL,
  `Address` NVARCHAR(512) NULL,
  `Phone` VARCHAR(64) NULL,
  `IsAdmin` ENUM('N', 'Y') NULL,
  `Active` ENUM('N', 'Y') NULL,
  PRIMARY KEY (`AccountId`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `book_store_v2.0`.`OrderBook`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `book_store_v2.0`.`OrderBook` ;

CREATE TABLE IF NOT EXISTS `book_store_v2.0`.`OrderBook` (
  `OrderId` VARCHAR(16) NOT NULL,
  `OrderDate` DATETIME NULL,
  `AccountId` VARCHAR(36) NULL,
  `ReceiveAddress` NVARCHAR(512) NULL,
  `ReceivePhone` VARCHAR(64) NULL,
  `OrderReceive` DATETIME NULL,
  `Note` NVARCHAR(512) NULL,
  `Status` VARCHAR(16) NULL,
  PRIMARY KEY (`OrderId`),
  CONSTRAINT `FK_ OrderBook_Account`
    FOREIGN KEY (`AccountId`)
    REFERENCES `book_store_v2.0`.`Account` (`AccountId`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `Account_KEY` ON `book_store_v2.0`.`OrderBook` (`AccountId` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `book_store_v2.0`.`OrderDetail`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `book_store_v2.0`.`OrderDetail` ;

CREATE TABLE IF NOT EXISTS `book_store_v2.0`.`OrderDetail` (
  `OrderDetailId` INT NOT NULL,
  `BookId` VARCHAR(10) NULL,
  `OrderId` VARCHAR(16) NULL,
  `Quantity` INT NULL,
  `Price` FLOAT NULL,
  `TotalMoney` FLOAT NULL,
  PRIMARY KEY (`OrderDetailId`),
  CONSTRAINT `FK_OrderDetail_Book`
    FOREIGN KEY (`BookId`)
    REFERENCES `book_store_v2.0`.`Book` (`BookId`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_OrderDetail_OrderBook`
    FOREIGN KEY (`OrderId`)
    REFERENCES `book_store_v2.0`.`OrderBook` (`OrderId`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `Book_KEY` ON `book_store_v2.0`.`OrderDetail` (`BookId` ASC) INVISIBLE;

CREATE INDEX `Order_KEY` ON `book_store_v2.0`.`OrderDetail` (`OrderId` ASC) VISIBLE;


-- -----------------------------------------------------
-- Data for table `book_store_v2.0`.`Publisher`
-- -----------------------------------------------------
START TRANSACTION;
USE `book_store_v2.0`;
INSERT INTO `book_store_v2.0`.`Publisher` (`PublisherId`, `PublisherName`, `Phone`, `Address`) VALUES (1, 'Penguin Random House', '212-555-1234', '1745 Broadway');
INSERT INTO `book_store_v2.0`.`Publisher` (`PublisherId`, `PublisherName`, `Phone`, `Address`) VALUES (2, 'HarperCollins', '212-555-5678', '195 Broadway');
INSERT INTO `book_store_v2.0`.`Publisher` (`PublisherId`, `PublisherName`, `Phone`, `Address`) VALUES (3, 'Simon & Schuster', '212-555-8765', '1230 Avenue of the Americas');
INSERT INTO `book_store_v2.0`.`Publisher` (`PublisherId`, `PublisherName`, `Phone`, `Address`) VALUES (4, 'Hachette Book Group', '212-555-4321', '1290 Avenue of the Americas');
INSERT INTO `book_store_v2.0`.`Publisher` (`PublisherId`, `PublisherName`, `Phone`, `Address`) VALUES (5, 'Macmillan Publishers', '212-555-6789', '120 Broadway');

COMMIT;


-- -----------------------------------------------------
-- Data for table `book_store_v2.0`.`Category`
-- -----------------------------------------------------
START TRANSACTION;
USE `book_store_v2.0`;
INSERT INTO `book_store_v2.0`.`Category` (`CategoryId`, `CategoryName`) VALUES (1, 'Fiction');
INSERT INTO `book_store_v2.0`.`Category` (`CategoryId`, `CategoryName`) VALUES (2, 'Non-Fiction');
INSERT INTO `book_store_v2.0`.`Category` (`CategoryId`, `CategoryName`) VALUES (3, 'Science Fiction');
INSERT INTO `book_store_v2.0`.`Category` (`CategoryId`, `CategoryName`) VALUES (4, 'Biography');
INSERT INTO `book_store_v2.0`.`Category` (`CategoryId`, `CategoryName`) VALUES (5, 'Children');

COMMIT;


-- -----------------------------------------------------
-- Data for table `book_store_v2.0`.`Book`
-- -----------------------------------------------------
START TRANSACTION;
USE `book_store_v2.0`;
INSERT INTO `book_store_v2.0`.`Book` (`BookId`, `CategoryId`, `PublisherId`, `Title`, `Author`, `Release`, `Price`, `Description`, `Picture`) VALUES ('B001', 1, 1, 'The Great Gatsby', 'F. Scott Fitzgerald', 1925, 10.99, 'A novel set in the Roaring Twenties', ' exploring themes of wealth');
INSERT INTO `book_store_v2.0`.`Book` (`BookId`, `CategoryId`, `PublisherId`, `Title`, `Author`, `Release`, `Price`, `Description`, `Picture`) VALUES ('B002', 2, 2, 'Sapiens: A Brief History of Humankind', 'Yuval Noah Harari', 2011, 14.99, 'A book that explores the history and impact of Homo sapiens.', 'https://example.com/pictures/sapiens.jpg');
INSERT INTO `book_store_v2.0`.`Book` (`BookId`, `CategoryId`, `PublisherId`, `Title`, `Author`, `Release`, `Price`, `Description`, `Picture`) VALUES ('B003', 3, 3, 'Dune', 'Frank Herbert', 1965, 9.99, 'A science fiction novel about the complex and multi-layered interactions of politics', ' religion');
INSERT INTO `book_store_v2.0`.`Book` (`BookId`, `CategoryId`, `PublisherId`, `Title`, `Author`, `Release`, `Price`, `Description`, `Picture`) VALUES ('B004', 4, 4, 'Steve Jobs', 'Walter Isaacson', 2011, 19.99, 'A biography of Steve Jobs', ' the co-founder of Apple Inc.');
INSERT INTO `book_store_v2.0`.`Book` (`BookId`, `CategoryId`, `PublisherId`, `Title`, `Author`, `Release`, `Price`, `Description`, `Picture`) VALUES ('B005', 5, 5, 'Harry Potter and the Sorcerer\'s Stone', 'J.K. Rowling', 1997, 8.99, 'The first book in the Harry Potter series', ' introducing the young wizard Harry Potter.');

COMMIT;


-- -----------------------------------------------------
-- Data for table `book_store_v2.0`.`Account`
-- -----------------------------------------------------
START TRANSACTION;
USE `book_store_v2.0`;
INSERT INTO `book_store_v2.0`.`Account` (`AccountId`, `Usernane`, `Password`, `FullName`, `Picture`, `Email`, `Address`, `Phone`, `IsAdmin`, `Active`) VALUES ('1e4d6f7a-8c9b-4d2e-9f1a-2b3c4d5e6f7a', 'jdoe', 'password123', 'John Doe', 'https://example.com/pictures/jdoe.jpg', 'jdoe@example.com', '123 Main St', '555-123-4567', 'Y', 'Y');
INSERT INTO `book_store_v2.0`.`Account` (`AccountId`, `Usernane`, `Password`, `FullName`, `Picture`, `Email`, `Address`, `Phone`, `IsAdmin`, `Active`) VALUES ('2e4d6f7a-8c9b-4d2e-9f1a-2b3c4d5e6f7b', 'asmith', 'securepass456', 'Alice Smith', 'https://example.com/pictures/asmith.jpg', 'asmith@example.com', '456 Elm St', '555-234-5678', 'Y', 'N');
INSERT INTO `book_store_v2.0`.`Account` (`AccountId`, `Usernane`, `Password`, `FullName`, `Picture`, `Email`, `Address`, `Phone`, `IsAdmin`, `Active`) VALUES ('3e4d6f7a-8c9b-4d2e-9f1a-2b3c4d5e6f7c', 'bwhite', 'mypassword789', 'Bob White', 'https://example.com/pictures/bwhite.jpg', 'bwhite@example.com', '789 Oak St', '555-345-6789', 'N', 'Y');
INSERT INTO `book_store_v2.0`.`Account` (`AccountId`, `Usernane`, `Password`, `FullName`, `Picture`, `Email`, `Address`, `Phone`, `IsAdmin`, `Active`) VALUES ('4e4d6f7a-8c9b-4d2e-9f1a-2b3c4d5e6f7d', 'cjones', 'pass1234', 'Carol Jones', 'https://example.com/pictures/cjones.jpg', 'cjones@example.com', '101 Pine St', '555-456-7890', 'N', 'Y');
INSERT INTO `book_store_v2.0`.`Account` (`AccountId`, `Usernane`, `Password`, `FullName`, `Picture`, `Email`, `Address`, `Phone`, `IsAdmin`, `Active`) VALUES ('5e4d6f7a-8c9b-4d2e-9f1a-2b3c4d5e6f7e', 'dlee', 'password567', 'David Lee', 'https://example.com/pictures/dlee.jpg', 'dlee@example.com', '202 Maple St', '555-567-8901', 'N', 'Y');

COMMIT;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
